# دليل المساهمة - نظام إدارة الاستثمار العقاري

شكراً لاهتمامك بالمساهمة في نظام إدارة الاستثمار العقاري! هذا الدليل سيساعدك على فهم كيفية المساهمة في المشروع.

## 📋 جدول المحتويات

- [كيفية المساهمة](#كيفية-المساهمة)
- [إعداد البيئة التطويرية](#إعداد-البيئة-التطويرية)
- [معايير الكود](#معايير-الكود)
- [عملية التطوير](#عملية-التطوير)
- [الإبلاغ عن الأخطاء](#الإبلاغ-عن-الأخطاء)
- [طلب الميزات](#طلب-الميزات)
- [الأسئلة الشائعة](#الأسئلة-الشائعة)

## 🤝 كيفية المساهمة

### أنواع المساهمات المطلوبة

1. **إصلاح الأخطاء**: تحديد وإصلاح الأخطاء في الكود
2. **تحسينات الأداء**: تحسين سرعة وكفاءة النظام
3. **ميزات جديدة**: إضافة وظائف جديدة مفيدة
4. **تحسينات الواجهة**: تحسين تجربة المستخدم
5. **التوثيق**: تحسين التوثيق والأمثلة
6. **الاختبارات**: إضافة اختبارات جديدة
7. **الترجمة**: ترجمة الواجهة إلى لغات أخرى

### قبل البدء

- تأكد من قراءة [README.md](README.md) و [API_Documentation.md](API_Documentation.md)
- تحقق من [Issues](https://github.com/your-repo/issues) الحالية
- انضم إلى مناقشات [Discussions](https://github.com/your-repo/discussions)

## 🛠️ إعداد البيئة التطويرية

### المتطلبات الأساسية

- Node.js (الإصدار 16 أو أحدث)
- npm أو yarn
- Git
- محرر نصوص (VS Code مفضل)

### خطوات الإعداد

1. **نسخ المشروع**:
   ```bash
   git clone https://github.com/your-repo/real-estate-management-system.git
   cd real-estate-management-system
   ```

2. **تثبيت التبعيات**:
   ```bash
   npm install
   ```

3. **إعداد البيئة**:
   ```bash
   cp .env.example .env
   # تعديل ملف .env حسب احتياجاتك
   ```

4. **تهيئة قاعدة البيانات**:
   ```bash
   npm run init-db
   ```

5. **تشغيل الخادم**:
   ```bash
   npm run dev
   ```

### هيكل المشروع

```
real-estate-management-system/
├── database/           # ملفات قاعدة البيانات
├── routes/            # مسارات API
├── utils/             # أدوات مساعدة
├── public/            # الملفات العامة (الواجهة الأمامية)
├── scripts/           # سكريبتات مساعدة
├── data/              # بيانات قاعدة البيانات
├── backups/           # النسخ الاحتياطية
├── server.js          # نقطة البداية الرئيسية
├── package.json       # تبعيات المشروع
└── README.md          # توثيق المشروع
```

## 📝 معايير الكود

### معايير JavaScript

- استخدم ES6+ features
- استخدم `const` و `let` بدلاً من `var`
- استخدم arrow functions عندما يكون ذلك مناسباً
- استخدم async/await بدلاً من Promises مباشرة
- اكتب تعليقات واضحة باللغة العربية

### معايير التسمية

- **المتغيرات والوظائف**: camelCase
- **الثوابت**: UPPER_SNAKE_CASE
- **الكلاسات**: PascalCase
- **الملفات**: kebab-case
- **المجلدات**: kebab-case

### مثال على الكود الجيد

```javascript
// ✅ كود جيد
const calculateTotalPrice = async (unitId, discount = 0) => {
  try {
    const unit = await db.get('SELECT * FROM units WHERE id = ?', [unitId]);
    if (!unit) {
      throw new Error('الوحدة غير موجودة');
    }
    
    const totalPrice = unit.price * (1 - discount / 100);
    return Math.round(totalPrice * 100) / 100;
  } catch (error) {
    console.error('خطأ في حساب السعر الإجمالي:', error);
    throw error;
  }
};

// ❌ كود سيء
function calcPrice(id, d) {
  var u = db.get('SELECT * FROM units WHERE id = ' + id);
  return u.price * (1 - d/100);
}
```

### معايير SQL

- استخدم prepared statements لتجنب SQL injection
- اكتب استعلامات واضحة ومقروءة
- استخدم أسماء جداول وأعمدة واضحة
- أضف فهارس للأعمدة المستخدمة في البحث

```sql
-- ✅ استعلام جيد
SELECT 
  c.name AS customer_name,
  u.type AS unit_type,
  u.price,
  u.status
FROM customers c
JOIN units u ON c.id = u.customer_id
WHERE u.status = 'available'
ORDER BY u.price DESC;

-- ❌ استعلام سيء
SELECT * FROM customers, units WHERE customers.id = units.customer_id;
```

## 🔄 عملية التطوير

### 1. إنشاء فرع جديد

```bash
git checkout -b feature/اسم-الميزة
# أو
git checkout -b fix/اسم-الإصلاح
```

### 2. تطوير الميزة

- اكتب الكود حسب المعايير المذكورة أعلاه
- أضف اختبارات للميزة الجديدة
- تأكد من عمل جميع الاختبارات الحالية
- اكتب توثيق للميزة الجديدة

### 3. اختبار التغييرات

```bash
# تشغيل الاختبارات
npm test

# تشغيل linting
npm run lint

# تشغيل النظام محلياً
npm run dev
```

### 4. إرسال التغييرات

```bash
# إضافة التغييرات
git add .

# كتابة رسالة commit واضحة
git commit -m "feat: إضافة ميزة إدارة المدفوعات المتقدمة

- إضافة نظام تتبع المدفوعات
- إضافة تقارير المدفوعات
- تحسين واجهة إدارة المدفوعات"

# رفع التغييرات
git push origin feature/اسم-الميزة
```

### 5. إنشاء Pull Request

- اذهب إلى GitHub وأنشئ Pull Request
- اكتب وصف واضح للتغييرات
- أضف لقطات شاشة إذا كان ذلك مناسباً
- اربط PR بـ Issue إذا كان موجوداً

### معايير رسائل Commit

استخدم [Conventional Commits](https://www.conventionalcommits.org/):

```
type(scope): description

feat: ميزة جديدة
fix: إصلاح خطأ
docs: تحديث التوثيق
style: تحسينات التنسيق
refactor: إعادة هيكلة الكود
test: إضافة أو تحديث الاختبارات
chore: مهام الصيانة
```

## 🐛 الإبلاغ عن الأخطاء

### قبل الإبلاغ

- تحقق من [Issues](https://github.com/your-repo/issues) الحالية
- تأكد من أن الخطأ لم يتم الإبلاغ عنه مسبقاً
- جرب أحدث إصدار من النظام

### كيفية الإبلاغ

استخدم قالب Bug Report:

```markdown
## وصف الخطأ
وصف واضح ومختصر للخطأ.

## خطوات إعادة الإنتاج
1. اذهب إلى '...'
2. انقر على '...'
3. انتقل إلى '...'
4. شاهد الخطأ

## السلوك المتوقع
وصف ما كان يجب أن يحدث.

## لقطات الشاشة
أضف لقطات شاشة إذا كان ذلك مناسباً.

## معلومات النظام
- نظام التشغيل: [مثل Windows 10, macOS 11.0]
- المتصفح: [مثل Chrome 91, Firefox 89]
- إصدار النظام: [مثل 5.0.0]

## معلومات إضافية
أي معلومات أخرى حول المشكلة.
```

## 💡 طلب الميزات

### قبل الطلب

- تحقق من [Issues](https://github.com/your-repo/issues) الحالية
- تأكد من أن الميزة لم يتم طلبها مسبقاً
- فكر في كيفية تنفيذ الميزة

### كيفية الطلب

استخدم قالب Feature Request:

```markdown
## ملخص الميزة
وصف واضح ومختصر للميزة المطلوبة.

## المشكلة التي تحلها
وصف المشكلة التي تحلها هذه الميزة.

## الحل المقترح
وصف الحل المقترح.

## البدائل المدروسة
وصف أي حلول بديلة تم النظر فيها.

## معلومات إضافية
أي رسوم توضيحية أو أمثلة إضافية.
```

## ❓ الأسئلة الشائعة

### كيف يمكنني البدء في المساهمة؟

1. اقرأ هذا الدليل بالكامل
2. أعد إعداد البيئة التطويرية
3. ابدأ بمشاكل بسيطة مثل "good first issue"
4. انضم إلى مناقشات المجتمع

### ما هي أفضل طريقة للتعلم؟

- اقرأ الكود الموجود
- ادرس [API_Documentation.md](API_Documentation.md)
- جرب النظام بنفسك
- اسأل أسئلة في [Discussions](https://github.com/your-repo/discussions)

### كيف يمكنني الحصول على مساعدة؟

- اطرح أسئلة في [Discussions](https://github.com/your-repo/discussions)
- ابحث في [Issues](https://github.com/your-repo/issues) الحالية
- راجع [README.md](README.md) و [API_Documentation.md](API_Documentation.md)

### ما هي معايير قبول المساهمات؟

- الكود يتبع معايير المشروع
- الاختبارات تمر بنجاح
- التوثيق محدث
- الميزة مفيدة للمجتمع
- لا توجد أخطاء أمنية

## 📞 التواصل

- **GitHub Issues**: للإبلاغ عن الأخطاء وطلب الميزات
- **GitHub Discussions**: للمناقشات والأسئلة العامة
- **Email**: للتواصل المباشر

## 🙏 شكر وتقدير

شكراً لجميع المساهمين الذين يساعدون في تطوير هذا النظام! كل مساهمة، مهما كانت صغيرة، تساعد في جعل النظام أفضل.

---

**آخر تحديث**: 2025-01-27  
**الإصدار**: 1.0.0