# 🏢 نظام إدارة الاستثمار العقاري

نظام شامل ومتطور لإدارة الاستثمار العقاري مبني على Node.js و Express مع قاعدة بيانات SQLite وواجهة مستخدم حديثة.

## ✨ الميزات الرئيسية

### 📊 لوحة التحكم الشاملة
- إحصائيات فورية للعملاء والوحدات والعقود
- عرض الإيرادات والأرباح
- متابعة الأقساط المستحقة
- رسوم بيانية تفاعلية

### 👥 إدارة العملاء
- إضافة وتعديل وحذف العملاء
- بيانات شاملة (الاسم، الهاتف، البريد الإلكتروني، العنوان)
- حالة العميل (نشط/غير نشط)
- ملاحظات وتفاصيل إضافية

### 🏠 إدارة الوحدات العقارية
- أنواع مختلفة (شقة، فيلا، مكتب، محل)
- تفاصيل كاملة (المساحة، السعر، الموقع)
- حالة الوحدة (متاح، مباع، مؤجر)
- وصف تفصيلي لكل وحدة

### 📋 إدارة العقود
- عقود البيع والإيجار
- ربط العملاء بالوحدات
- تحديد المبالغ والأقساط
- متابعة حالة العقد

### 💰 إدارة الأقساط
- توليد أقساط تلقائية
- متابعة الأقساط المستحقة
- تسجيل المدفوعات
- تقارير مفصلة

### 🤝 إدارة الشركاء
- بيانات الشركاء
- نسب المشاركة
- تقارير الأرباح والخسائر

### 🏆 إدارة السماسرة
- بيانات السماسرة
- نسب العمولات
- تقارير المبيعات

### 🧾 إدارة الإيصالات
- إيصالات الدخل والمصروفات
- ربط الإيصالات بالعقود
- تصنيف الإيصالات

### 🏦 إدارة الخزينة
- خزائن متعددة
- رصيد كل خزينة
- تحويلات مالية
- تقارير مالية

### 📈 التقارير الشاملة
- تقارير المبيعات
- تقارير الإيجارات
- تقارير الأقساط
- تقارير الشركاء
- تقارير مالية مفصلة

### 📝 سجل التغييرات
- تتبع جميع العمليات
- سجل المستخدمين
- تفاصيل التغييرات

## 🛠️ التقنيات المستخدمة

### Backend
- **Node.js** - بيئة تشغيل JavaScript
- **Express.js** - إطار عمل الويب
- **SQLite3** - قاعدة بيانات خفيفة وسريعة
- **bcryptjs** - تشفير كلمات المرور
- **jsonwebtoken** - مصادقة JWT
- **helmet** - أمان التطبيق
- **cors** - مشاركة الموارد عبر المصادر
- **compression** - ضغط الاستجابات
- **express-rate-limit** - تحديد معدل الطلبات

### Frontend
- **HTML5** - هيكل الصفحات
- **CSS3** - التصميم والأنيميشن
- **JavaScript (ES6+)** - التفاعل والوظائف
- **Responsive Design** - تصميم متجاوب

### Database
- **SQLite** - قاعدة بيانات محلية
- **11 جدول رئيسي** - هيكل منظم للبيانات
- **علاقات متقدمة** - ربط البيانات
- **فهارس محسنة** - أداء عالي

## 🚀 التثبيت والتشغيل

### المتطلبات
- Node.js (الإصدار 16 أو أحدث)
- npm أو yarn

### خطوات التثبيت

1. **استنساخ المشروع**
```bash
git clone <repository-url>
cd real-estate-management-system
```

2. **تثبيت التبعيات**
```bash
npm install
```

3. **تشغيل النظام**
```bash
npm start
```

4. **الوصول للنظام**
```
http://localhost:3000
```

### بيانات تسجيل الدخول الافتراضية
- **اسم المستخدم**: admin
- **كلمة المرور**: admin123

## 📁 هيكل المشروع

```
real-estate-management-system/
├── database/
│   └── database.js          # إدارة قاعدة البيانات
├── routes/
│   ├── auth.js             # مسارات المصادقة
│   ├── customers.js        # مسارات العملاء
│   ├── units.js           # مسارات الوحدات
│   ├── contracts.js       # مسارات العقود
│   ├── installments.js    # مسارات الأقساط
│   ├── partners.js        # مسارات الشركاء
│   ├── brokers.js         # مسارات السماسرة
│   ├── vouchers.js        # مسارات الإيصالات
│   ├── treasury.js        # مسارات الخزينة
│   ├── reports.js         # مسارات التقارير
│   └── audit.js           # مسارات سجل التغييرات
├── public/
│   ├── css/
│   │   └── style.css      # ملفات التصميم
│   ├── js/
│   │   └── app.js         # ملفات JavaScript
│   └── index.html         # الصفحة الرئيسية
├── server.js              # الخادم الرئيسي
├── package.json           # إعدادات المشروع
└── README.md              # هذا الملف
```

## 🔧 الإعدادات المتقدمة

### متغيرات البيئة
إنشاء ملف `.env` في المجلد الرئيسي:

```env
NODE_ENV=development
PORT=3000
JWT_SECRET=your-secret-key
```

### قاعدة البيانات
النظام يستخدم SQLite تلقائياً. قاعدة البيانات ستُنشأ في:
```
database/real_estate.db
```

### الأمان
- تشفير كلمات المرور باستخدام bcrypt
- مصادقة JWT
- حماية من CSRF
- تحديد معدل الطلبات
- رؤوس أمان مع Helmet

## 📊 قاعدة البيانات

### الجداول الرئيسية
1. **users** - المستخدمين
2. **customers** - العملاء
3. **units** - الوحدات العقارية
4. **contracts** - العقود
5. **installments** - الأقساط
6. **partners** - الشركاء
7. **brokers** - السماسرة
8. **safes** - الخزائن
9. **vouchers** - الإيصالات
10. **transfers** - التحويلات
11. **audit_log** - سجل التغييرات

## 🎨 الواجهة

### التصميم
- تصميم حديث وأنيق
- ألوان متدرجة جميلة
- خطوط واضحة ومقروءة
- أيقونات معبرة

### الاستجابة
- متوافق مع جميع الأجهزة
- تصميم متجاوب
- دعم الشاشات الصغيرة
- تجربة مستخدم محسنة

### الأوضاع
- الوضع الفاتح
- الوضع الداكن
- أحجام خطوط قابلة للتعديل

## 🔍 البحث والتصفية

### البحث
- بحث في جميع الجداول
- بحث متقدم
- نتائج فورية

### التصفية
- تصفية حسب الحالة
- تصفية حسب النوع
- تصفية حسب التاريخ

## 📈 التقارير

### أنواع التقارير
- تقارير مالية
- تقارير المبيعات
- تقارير الإيجارات
- تقارير الأقساط
- تقارير الشركاء

### التصدير
- تصدير PDF
- تصدير Excel
- طباعة التقارير

## 🔐 الأمان

### المصادقة
- تسجيل دخول آمن
- جلسات محمية
- تسجيل خروج آمن

### الصلاحيات
- مستويات صلاحيات مختلفة
- تحكم في الوصول
- سجل العمليات

## 🚀 النشر

### النشر المحلي
```bash
npm start
```

### النشر على الخوادم
```bash
npm run build
npm run production
```

### Docker
```bash
docker build -t real-estate-system .
docker run -p 3000:3000 real-estate-system
```

## 🐛 استكشاف الأخطاء

### الأخطاء الشائعة
1. **خطأ في الاتصال بقاعدة البيانات**
   - تأكد من وجود مجلد database
   - تحقق من صلاحيات الكتابة

2. **خطأ في تسجيل الدخول**
   - تحقق من بيانات المستخدم
   - تأكد من تشغيل الخادم

3. **خطأ في تحميل البيانات**
   - تحقق من الاتصال بالإنترنت
   - تحقق من صحة التوكن

### السجلات
```bash
# عرض سجلات التطبيق
npm run logs

# مراقبة السجلات
npm run watch
```

## 🤝 المساهمة

### كيفية المساهمة
1. Fork المشروع
2. إنشاء فرع جديد
3. إجراء التغييرات
4. إرسال Pull Request

### معايير الكود
- استخدام ESLint
- اتباع معايير JavaScript
- كتابة تعليقات واضحة
- اختبار الكود

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT.

## 📞 الدعم

### التواصل
- البريد الإلكتروني: support@realestate.com
- GitHub Issues: للإبلاغ عن الأخطاء
- GitHub Discussions: للمناقشات

### التوثيق
- [دليل المستخدم](docs/user-guide.md)
- [دليل المطور](docs/developer-guide.md)
- [API Documentation](docs/api.md)

## 🎯 خطة التطوير

### الإصدارات القادمة
- [ ] تطبيق الهاتف المحمول
- [ ] دعم قواعد بيانات متعددة
- [ ] نظام إشعارات متقدم
- [ ] تقارير تفاعلية
- [ ] دعم متعدد اللغات

### التحسينات
- [ ] تحسين الأداء
- [ ] إضافة اختبارات
- [ ] تحسين الأمان
- [ ] واجهة مستخدم محسنة

---

## 🎊 شكراً لك!

**شكراً لاستخدام نظام إدارة الاستثمار العقاري!**

نأمل أن يساعدك هذا النظام في إدارة أعمالك العقارية بكفاءة واحترافية.

**🚀 ابدأ الآن واستمتع بنظامك الجديد!**