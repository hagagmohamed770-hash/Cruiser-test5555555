# ุฏููู ุงููุทูุฑ - ูุธุงู ุฅุฏุงุฑุฉ ุงูุงุณุชุซูุงุฑ ุงูุนูุงุฑู

## ๐ ุฌุฏูู ุงููุญุชููุงุช

- [ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุธุงู](#ูุธุฑุฉ-ุนุงูุฉ-ุนูู-ุงููุธุงู)
- [ุฅุนุฏุงุฏ ุจูุฆุฉ ุงูุชุทููุฑ](#ุฅุนุฏุงุฏ-ุจูุฆุฉ-ุงูุชุทููุฑ)
- [ุจููุฉ ุงููุดุฑูุน](#ุจููุฉ-ุงููุดุฑูุน)
- [ูุงุนุฏุฉ ุงูุจูุงูุงุช](#ูุงุนุฏุฉ-ุงูุจูุงูุงุช)
- [API Reference](#api-reference)
- [ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ](#ุฅุถุงูุฉ-ููุฒุงุช-ุฌุฏูุฏุฉ)
- [ุงูุงุฎุชุจุงุฑุงุช](#ุงูุงุฎุชุจุงุฑุงุช)
- [ุงููุดุฑ ูุงูุฅูุชุงุฌ](#ุงููุดุฑ-ูุงูุฅูุชุงุฌ)
- [ุฃูุถู ุงูููุงุฑุณุงุช](#ุฃูุถู-ุงูููุงุฑุณุงุช)

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุธุงู

### ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

- **Backend**: Node.js, Express.js
- **Database**: SQLite3
- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Authentication**: JWT, bcryptjs
- **Security**: Helmet, CORS, Rate Limiting
- **Documentation**: JSDoc, Markdown

### ุงูุจููุฉ ุงููุนูุงุฑูุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           Frontend (HTML/CSS/JS)    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ           Express.js Server         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ           SQLite Database           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

- **ุฅุฏุงุฑุฉ ุงูุนููุงุก**: CRUD operations ููุนููุงุก
- **ุฅุฏุงุฑุฉ ุงููุญุฏุงุช**: ุฅุฏุงุฑุฉ ุงููุญุฏุงุช ุงูุนูุงุฑูุฉ
- **ุฅุฏุงุฑุฉ ุงูุนููุฏ**: ุนููุฏ ุงูุจูุน ูุงูุฅูุฌุงุฑ
- **ุฅุฏุงุฑุฉ ุงูุฃูุณุงุท**: ูุธุงู ุงูุฃูุณุงุท ูุงููุฏููุนุงุช
- **ุฅุฏุงุฑุฉ ุงูุดุฑูุงุก**: ุฅุฏุงุฑุฉ ุงูุดุฑูุงุก ูุฃุฑุจุงุญูู
- **ุฅุฏุงุฑุฉ ุงููุณุทุงุก**: ุฅุฏุงุฑุฉ ุงููุณุทุงุก ูุนูููุงุชูู
- **ุฅุฏุงุฑุฉ ุงูุฎุฒููุฉ**: ุฅุฏุงุฑุฉ ุงูุฎุฒุงุฆู ูุงูุชุญูููุงุช
- **ุงูุชูุงุฑูุฑ**: ุชูุงุฑูุฑ ูุงููุฉ ูุฅุฏุงุฑูุฉ
- **ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ**: ูุธุงู ูุณุฎ ุงุญุชูุงุทูุฉ ูุชูุฏู
- **ุณุฌู ุงูุชุบููุฑุงุช**: ุชุชุจุน ุฌููุน ุงูุนูููุงุช

## ๐ง ุฅุนุฏุงุฏ ุจูุฆุฉ ุงูุชุทููุฑ

### ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

```bash
# Node.js 16.0.0 ุฃู ุฃุญุฏุซ
node --version

# npm 8.0.0 ุฃู ุฃุญุฏุซ
npm --version

# Git
git --version
```

### ุชุซุจูุช ุงููุดุฑูุน

```bash
# ุงุณุชูุณุงุฎ ุงููุดุฑูุน
git clone https://github.com/your-repo/real-estate-management-system.git
cd real-estate-management-system

# ุชุซุจูุช ุงูุชุจุนูุงุช
npm install

# ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
npm run init-db

# ุชุดุบูู ูู ูุถุน ุงูุชุทููุฑ
npm run dev
```

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ

ุฃูุดุฆ ููู `.env` ูู ุงููุฌูุฏ ุงูุฌุฐุฑ:

```env
# ุฅุนุฏุงุฏุงุช ุงูุฎุงุฏู
NODE_ENV=development
PORT=3000

# ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
DB_PATH=./data/real_estate.db

# ุฅุนุฏุงุฏุงุช ุงูุฃูุงู
JWT_SECRET=your-super-secret-jwt-key-here

# ุฅุนุฏุงุฏุงุช ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
BACKUP_DIR=./backups
BACKUP_AUTO=true
BACKUP_INTERVAL=24h

# ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ
COMPANY_NAME=ุดุฑูุฉ ุงูุงุณุชุซูุงุฑ ุงูุนูุงุฑู
COMPANY_EMAIL=info@company.com
COMPANY_PHONE=0123456789
```

### ุฃุฏูุงุช ุงูุชุทููุฑ

```bash
# ุชุซุจูุช ุฃุฏูุงุช ุงูุชุทููุฑ
npm install --save-dev nodemon eslint prettier

# ุชุดุบูู ูุน ุฅุนุงุฏุฉ ุงูุชุญููู ุงูุชููุงุฆู
npm run dev

# ูุญุต ุงูููุฏ
npm run lint

# ุชูุณูู ุงูููุฏ
npm run format
```

## ๐ ุจููุฉ ุงููุดุฑูุน

```
real-estate-management-system/
โโโ server.js                 # ููุทุฉ ุงูุจุฏุงูุฉ ููุฎุงุฏู
โโโ package.json              # ุชุจุนูุงุช ุงููุดุฑูุน
โโโ .env.example              # ูุซุงู ููุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ .gitignore               # ูููุงุช Git ุงูููููุฉ
โโโ start.sh                 # ุณูุฑูุจุช ุงูุชุดุบูู ุงูุณุฑูุน
โโโ Dockerfile               # ุชูููู Docker
โโโ docker-compose.yml       # ุชูููู Docker Compose
โโโ database/
โ   โโโ database.js          # ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ routes/
โ   โโโ auth.js              # ูุณุงุฑุงุช ุงููุตุงุฏูุฉ
โ   โโโ customers.js         # ูุณุงุฑุงุช ุงูุนููุงุก
โ   โโโ units.js             # ูุณุงุฑุงุช ุงููุญุฏุงุช
โ   โโโ contracts.js         # ูุณุงุฑุงุช ุงูุนููุฏ
โ   โโโ installments.js      # ูุณุงุฑุงุช ุงูุฃูุณุงุท
โ   โโโ partners.js          # ูุณุงุฑุงุช ุงูุดุฑูุงุก
โ   โโโ brokers.js           # ูุณุงุฑุงุช ุงููุณุทุงุก
โ   โโโ vouchers.js          # ูุณุงุฑุงุช ุงููููุฏ ุงููุงููุฉ
โ   โโโ treasury.js          # ูุณุงุฑุงุช ุงูุฎุฒููุฉ
โ   โโโ reports.js           # ูุณุงุฑุงุช ุงูุชูุงุฑูุฑ
โ   โโโ backup.js            # ูุณุงุฑุงุช ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
โ   โโโ audit.js             # ูุณุงุฑุงุช ุณุฌู ุงูุชุบููุฑุงุช
โโโ utils/
โ   โโโ audit.js             # ูุธุงุฆู ุณุฌู ุงูุชุบููุฑุงุช
โโโ public/
โ   โโโ index.html           # ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
โ   โโโ style.css            # ูููุงุช CSS
โ   โโโ app.js               # ูููุงุช JavaScript
โโโ data/                    # ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ backups/                 # ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
โโโ docs/                    # ุงูุชูุซูู
```

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช

```sql
-- ุฌุฏูู ุงูุนููุงุก
CREATE TABLE customers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  phone TEXT UNIQUE NOT NULL,
  email TEXT,
  address TEXT,
  status TEXT DEFAULT 'active',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- ุฌุฏูู ุงููุญุฏุงุช
CREATE TABLE units (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  type TEXT NOT NULL CHECK (type IN ('apartment', 'villa', 'office', 'shop')),
  area REAL NOT NULL,
  price REAL NOT NULL,
  location TEXT,
  status TEXT DEFAULT 'available',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- ุฌุฏูู ุงูุนููุฏ
CREATE TABLE contracts (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  customer_id INTEGER NOT NULL,
  unit_id INTEGER NOT NULL,
  type TEXT NOT NULL CHECK (type IN ('sale', 'rent')),
  total_amount REAL NOT NULL,
  down_payment REAL DEFAULT 0,
  installment_amount REAL,
  installment_count INTEGER DEFAULT 0,
  start_date DATE NOT NULL,
  end_date DATE,
  status TEXT DEFAULT 'active',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (customer_id) REFERENCES customers (id),
  FOREIGN KEY (unit_id) REFERENCES units (id)
);

-- ุฌุฏูู ุงูุฃูุณุงุท
CREATE TABLE installments (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  contract_id INTEGER NOT NULL,
  amount REAL NOT NULL,
  due_date DATE NOT NULL,
  payment_date DATE,
  payment_method TEXT,
  status TEXT DEFAULT 'pending',
  notes TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (contract_id) REFERENCES contracts (id)
);

-- ุฌุฏูู ุงูุดุฑูุงุก
CREATE TABLE partners (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  phone TEXT,
  email TEXT,
  share_percentage REAL NOT NULL,
  capital REAL DEFAULT 0,
  status TEXT DEFAULT 'active',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- ุฌุฏูู ุงููุณุทุงุก
CREATE TABLE brokers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  phone TEXT,
  email TEXT,
  commission_rate REAL DEFAULT 0,
  license_number TEXT,
  status TEXT DEFAULT 'active',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- ุฌุฏูู ุงููููุฏ ุงููุงููุฉ
CREATE TABLE vouchers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  type TEXT NOT NULL CHECK (type IN ('income', 'expense')),
  amount REAL NOT NULL,
  description TEXT NOT NULL,
  safe_id INTEGER NOT NULL,
  date DATE NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (safe_id) REFERENCES safes (id)
);

-- ุฌุฏูู ุงูุฎุฒุงุฆู
CREATE TABLE safes (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  balance REAL DEFAULT 0,
  description TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- ุฌุฏูู ุงูุชุญูููุงุช
CREATE TABLE transfers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  from_safe_id INTEGER NOT NULL,
  to_safe_id INTEGER NOT NULL,
  amount REAL NOT NULL,
  description TEXT,
  date DATE NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (from_safe_id) REFERENCES safes (id),
  FOREIGN KEY (to_safe_id) REFERENCES safes (id)
);

-- ุฌุฏูู ุณุฌู ุงูุชุบููุฑุงุช
CREATE TABLE audit_log (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  action TEXT NOT NULL,
  table_name TEXT NOT NULL,
  record_id INTEGER,
  data TEXT,
  user_id INTEGER,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users (id)
);

-- ุฌุฏูู ุงููุณุชุฎุฏููู
CREATE TABLE users (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  username TEXT UNIQUE NOT NULL,
  password TEXT NOT NULL,
  role TEXT DEFAULT 'user',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- ุฌุฏูู ุงูุฅุนุฏุงุฏุงุช
CREATE TABLE settings (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  key TEXT UNIQUE NOT NULL,
  value TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### ุงูููุงุฑุณ

```sql
-- ููุงุฑุณ ุฃุณุงุณูุฉ ููุฃุฏุงุก
CREATE INDEX IF NOT EXISTS idx_customers_name ON customers(name);
CREATE INDEX IF NOT EXISTS idx_customers_phone ON customers(phone);
CREATE INDEX IF NOT EXISTS idx_customers_email ON customers(email);
CREATE INDEX IF NOT EXISTS idx_customers_status ON customers(status);
CREATE INDEX IF NOT EXISTS idx_customers_created_at ON customers(created_at);

CREATE INDEX IF NOT EXISTS idx_units_type ON units(type);
CREATE INDEX IF NOT EXISTS idx_units_status ON units(status);
CREATE INDEX IF NOT EXISTS idx_units_price ON units(price);

CREATE INDEX IF NOT EXISTS idx_contracts_customer_id ON contracts(customer_id);
CREATE INDEX IF NOT EXISTS idx_contracts_unit_id ON contracts(unit_id);
CREATE INDEX IF NOT EXISTS idx_contracts_type ON contracts(type);
CREATE INDEX IF NOT EXISTS idx_contracts_status ON contracts(status);
CREATE INDEX IF NOT EXISTS idx_contracts_start_date ON contracts(start_date);

CREATE INDEX IF NOT EXISTS idx_installments_contract_id ON installments(contract_id);
CREATE INDEX IF NOT EXISTS idx_installments_status ON installments(status);
CREATE INDEX IF NOT EXISTS idx_installments_due_date ON installments(due_date);

CREATE INDEX IF NOT EXISTS idx_vouchers_type ON vouchers(type);
CREATE INDEX IF NOT EXISTS idx_vouchers_date ON vouchers(date);
CREATE INDEX IF NOT EXISTS idx_vouchers_safe_id ON vouchers(safe_id);

-- ููุงุฑุณ ูุฑูุจุฉ
CREATE INDEX IF NOT EXISTS idx_contracts_customer_type ON contracts(customer_id, type);
CREATE INDEX IF NOT EXISTS idx_contracts_unit_status ON contracts(unit_id, status);
```

## ๐ API Reference

### ุงููุตุงุฏูุฉ

#### ุชุณุฌูู ุงูุฏุฎูู
```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "admin123"
}
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 1,
    "username": "admin",
    "role": "admin"
  }
}
```

#### ุงูุชุญูู ูู ุงูุชููู
```http
GET /api/auth/verify
Authorization: Bearer <token>
```

### ุงูุนููุงุก

#### ุฌูุจ ุฌููุน ุงูุนููุงุก
```http
GET /api/customers?page=1&limit=20&search=ุฃุญูุฏ
Authorization: Bearer <token>
```

#### ุฅูุดุงุก ุนููู ุฌุฏูุฏ
```http
POST /api/customers
Authorization: Bearer <token>
Content-Type: application/json

{
  "name": "ุฃุญูุฏ ูุญูุฏ",
  "phone": "0123456789",
  "email": "ahmed@example.com",
  "address": "ุดุงุฑุน ุงูุฑุฆูุณู"
}
```

#### ุชุญุฏูุซ ุนููู
```http
PUT /api/customers/:id
Authorization: Bearer <token>
Content-Type: application/json

{
  "name": "ุฃุญูุฏ ูุญูุฏ ุนูู",
  "phone": "0987654321"
}
```

#### ุญุฐู ุนููู
```http
DELETE /api/customers/:id
Authorization: Bearer <token>
```

### ุงููุญุฏุงุช

#### ุฌูุจ ุฌููุน ุงููุญุฏุงุช
```http
GET /api/units?type=apartment&status=available
Authorization: Bearer <token>
```

#### ุฅูุดุงุก ูุญุฏุฉ ุฌุฏูุฏุฉ
```http
POST /api/units
Authorization: Bearer <token>
Content-Type: application/json

{
  "name": "ุดูุฉ 101",
  "type": "apartment",
  "area": 120,
  "price": 500000,
  "location": "ุงูุทุงุจู ุงูุฃูู"
}
```

### ุงูุนููุฏ

#### ุฌูุจ ุฌููุน ุงูุนููุฏ
```http
GET /api/contracts?type=sale&status=active
Authorization: Bearer <token>
```

#### ุฅูุดุงุก ุนูุฏ ุฌุฏูุฏ
```http
POST /api/contracts
Authorization: Bearer <token>
Content-Type: application/json

{
  "customer_id": 1,
  "unit_id": 1,
  "type": "sale",
  "total_amount": 500000,
  "down_payment": 100000,
  "installment_amount": 20000,
  "installment_count": 20,
  "start_date": "2025-01-01"
}
```

### ุงูุฃูุณุงุท

#### ุฌูุจ ุฌููุน ุงูุฃูุณุงุท
```http
GET /api/installments?contract_id=1&status=pending
Authorization: Bearer <token>
```

#### ุฅูุดุงุก ุฃูุณุงุท ููุนูุฏ
```http
POST /api/installments/generate
Authorization: Bearer <token>
Content-Type: application/json

{
  "contract_id": 1
}
```

#### ุฏูุน ูุณุท
```http
PUT /api/installments/:id/pay
Authorization: Bearer <token>
Content-Type: application/json

{
  "payment_date": "2025-01-15",
  "payment_method": "cash"
}
```

### ุงูุชูุงุฑูุฑ

#### ุชูุฑูุฑ ููุญุฉ ุงูุชุญูู
```http
GET /api/reports/dashboard
Authorization: Bearer <token>
```

#### ุชูุฑูุฑ ุงููุจูุนุงุช
```http
GET /api/reports/sales?year=2025&month=1
Authorization: Bearer <token>
```

#### ุชูุฑูุฑ ุงูุฃูุณุงุท ุงููุชุฃุฎุฑุฉ
```http
GET /api/reports/overdue-installments
Authorization: Bearer <token>
```

### ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

#### ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ
```http
POST /api/backup
Authorization: Bearer <token>
Content-Type: application/json

{
  "description": "ูุณุฎุฉ ุงุญุชูุงุทูุฉ ููููุฉ"
}
```

#### ุฌูุจ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
```http
GET /api/backup
Authorization: Bearer <token>
```

#### ุงุณุชุนุงุฏุฉ ูุณุฎุฉ ุงุญุชูุงุทูุฉ
```http
POST /api/backup/:id/restore
Authorization: Bearer <token>
```

## ๐ ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ

### ุฅุถุงูุฉ ูุณุงุฑ ุฌุฏูุฏ

1. ุฃูุดุฆ ููู ุฌุฏูุฏ ูู ูุฌูุฏ `routes/`
2. ุงุชุจุน ุงูููุท ุงูููุฌูุฏ:

```javascript
const express = require('express');
const router = express.Router();
const db = require('../database/database');
const { authenticateToken } = require('../middleware/auth');
const { logAudit } = require('../utils/audit');

// ุฌูุจ ุฌููุน ุงูุนูุงุตุฑ
router.get('/', authenticateToken, async (req, res) => {
  try {
    const { page = 1, limit = 20, search = '' } = req.query;
    const offset = (page - 1) * limit;
    
    let query = 'SELECT * FROM your_table';
    let params = [];
    
    if (search) {
      query += ' WHERE name LIKE ?';
      params.push(`%${search}%`);
    }
    
    query += ' ORDER BY created_at DESC LIMIT ? OFFSET ?';
    params.push(parseInt(limit), offset);
    
    const items = await db.all(query, params);
    const countResult = await db.get('SELECT COUNT(*) as total FROM your_table');
    
    res.json({
      success: true,
      data: {
        items,
        pagination: {
          page: parseInt(page),
          limit: parseInt(limit),
          total: countResult.total,
          pages: Math.ceil(countResult.total / limit)
        }
      }
    });
  } catch (error) {
    console.error('ุฎุทุฃ ูู ุฌูุจ ุงูุจูุงูุงุช:', error);
    res.status(500).json({
      success: false,
      message: 'ุฎุทุฃ ูู ุงูุฎุงุฏู'
    });
  }
});

// ุฅูุดุงุก ุนูุตุฑ ุฌุฏูุฏ
router.post('/', authenticateToken, async (req, res) => {
  try {
    const { name, description } = req.body;
    
    if (!name) {
      return res.status(400).json({
        success: false,
        message: 'ุงูุงุณู ูุทููุจ'
      });
    }
    
    const result = await db.run(
      'INSERT INTO your_table (name, description) VALUES (?, ?)',
      [name, description]
    );
    
    const newItem = await db.get('SELECT * FROM your_table WHERE id = ?', [result.lastID]);
    
    // ุชุณุฌูู ุงูุนูููุฉ
    await logAudit('create', 'your_table', result.lastID, req.body);
    
    res.status(201).json({
      success: true,
      data: newItem,
      message: 'ุชู ุฅูุดุงุก ุงูุนูุตุฑ ุจูุฌุงุญ'
    });
  } catch (error) {
    console.error('ุฎุทุฃ ูู ุฅูุดุงุก ุงูุนูุตุฑ:', error);
    res.status(500).json({
      success: false,
      message: 'ุฎุทุฃ ูู ุงูุฎุงุฏู'
    });
  }
});

module.exports = router;
```

3. ุฃุถู ุงููุณุงุฑ ูู `server.js`:

```javascript
const yourRoutes = require('./routes/your-routes');
app.use('/api/your-endpoint', yourRoutes);
```

### ุฅุถุงูุฉ ุฌุฏูู ุฌุฏูุฏ

1. ุฃุถู ุงูุฌุฏูู ูู `database/database.js`:

```javascript
// ุฅูุดุงุก ุฌุฏูู ุฌุฏูุฏ
await db.run(`
  CREATE TABLE IF NOT EXISTS your_table (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    description TEXT,
    status TEXT DEFAULT 'active',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
  )
`);

// ุฅูุดุงุก ููุงุฑุณ
await db.run('CREATE INDEX IF NOT EXISTS idx_your_table_name ON your_table(name)');
await db.run('CREATE INDEX IF NOT EXISTS idx_your_table_status ON your_table(status)');
```

### ุฅุถุงูุฉ ูุงุฌูุฉ ูุณุชุฎุฏู

1. ุฃุถู ุงูุฑุงุจุท ูู `public/index.html`:

```html
<a href="#your-page" class="nav-link" data-page="your-page">
  <span class="icon">๐</span>
  <span class="text">ุตูุญุชู ุงูุฌุฏูุฏุฉ</span>
</a>
```

2. ุฃุถู ุงููุญุชูู:

```html
<div id="your-page" class="page">
  <div class="page-header">
    <h1>ุนููุงู ุงูุตูุญุฉ</h1>
    <button class="btn btn-primary add-btn">ุฅุถุงูุฉ ุฌุฏูุฏ</button>
  </div>
  
  <div class="page-content">
    <div class="filters">
      <input type="text" class="search-input" placeholder="ุจุญุซ...">
      <select class="status-filter">
        <option value="">ุฌููุน ุงูุญุงูุงุช</option>
        <option value="active">ูุดุท</option>
        <option value="inactive">ุบูุฑ ูุดุท</option>
      </select>
    </div>
    
    <div class="table-container">
      <table class="table">
        <thead>
          <tr>
            <th>ุงูุงุณู</th>
            <th>ุงููุตู</th>
            <th>ุงูุญุงูุฉ</th>
            <th>ุงูุชุงุฑูุฎ</th>
            <th>ุงูุฅุฌุฑุงุกุงุช</th>
          </tr>
        </thead>
        <tbody id="your-table-body">
          <!-- ุงูุจูุงูุงุช ุณุชูุญูู ููุง -->
        </tbody>
      </table>
    </div>
  </div>
</div>
```

3. ุฃุถู ุงููุธุงุฆู ูู `public/app.js`:

```javascript
// ุชุญููู ุงูุจูุงูุงุช
const loadYourData = async () => {
  try {
    showLoading();
    
    const response = await fetch('/api/your-endpoint', {
      headers: {
        'Authorization': `Bearer ${token}`
      }
    });
    
    const data = await response.json();
    
    if (data.success) {
      renderYourTable(data.data.items);
    } else {
      showError(data.message);
    }
  } catch (error) {
    showError('ุฎุทุฃ ูู ุชุญููู ุงูุจูุงูุงุช');
  } finally {
    hideLoading();
  }
};

// ุนุฑุถ ุงูุจูุงูุงุช ูู ุงูุฌุฏูู
const renderYourTable = (items) => {
  const tbody = document.getElementById('your-table-body');
  tbody.innerHTML = '';
  
  items.forEach(item => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${item.name}</td>
      <td>${item.description || '-'}</td>
      <td><span class="status-badge ${item.status}">${getStatusName(item.status)}</span></td>
      <td>${formatDate(item.created_at)}</td>
      <td>
        <button class="btn btn-sm btn-primary edit-btn" data-id="${item.id}">ุชุนุฏูู</button>
        <button class="btn btn-sm btn-danger delete-btn" data-id="${item.id}">ุญุฐู</button>
      </td>
    `;
    tbody.appendChild(row);
  });
};
```

## ๐งช ุงูุงุฎุชุจุงุฑุงุช

### ุฅุนุฏุงุฏ ุงูุงุฎุชุจุงุฑุงุช

```bash
# ุชุซุจูุช ุฃุฏูุงุช ุงูุงุฎุชุจุงุฑ
npm install --save-dev jest supertest

# ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
npm test

# ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ูุน ุงูุชุบุทูุฉ
npm run test:coverage
```

### ูุชุงุจุฉ ุงุฎุชุจุงุฑุงุช

```javascript
// tests/your-feature.test.js
const request = require('supertest');
const app = require('../server');

describe('Your Feature', () => {
  let authToken;

  beforeAll(async () => {
    // ุชุณุฌูู ุฏุฎูู ููุญุตูู ุนูู ุชููู
    const loginResponse = await request(app)
      .post('/api/auth/login')
      .send({
        username: 'admin',
        password: 'admin123'
      });

    authToken = loginResponse.body.token;
  });

  describe('GET /api/your-endpoint', () => {
    it('should return list of items', async () => {
      const response = await request(app)
        .get('/api/your-endpoint')
        .set('Authorization', `Bearer ${authToken}`);

      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data).toBeInstanceOf(Array);
    });
  });

  describe('POST /api/your-endpoint', () => {
    it('should create new item', async () => {
      const itemData = {
        name: 'ุนูุตุฑ ุชุฌุฑูุจู',
        description: 'ูุตู ุชุฌุฑูุจู'
      };

      const response = await request(app)
        .post('/api/your-endpoint')
        .set('Authorization', `Bearer ${authToken}`)
        .send(itemData);

      expect(response.status).toBe(201);
      expect(response.body.success).toBe(true);
      expect(response.body.data.name).toBe(itemData.name);
    });
  });
});
```

## ๐ ุงููุดุฑ ูุงูุฅูุชุงุฌ

### ุฅุนุฏุงุฏ ุงูุฅูุชุงุฌ

1. ุฃูุดุฆ ููู `.env` ููุฅูุชุงุฌ:

```env
NODE_ENV=production
PORT=3000
JWT_SECRET=your-super-secret-production-key
DB_PATH=/app/data/real_estate.db
BACKUP_DIR=/app/backups
```

2. ุงุณุชุฎุฏู PM2 ูุฅุฏุงุฑุฉ ุงูุนูููุฉ:

```bash
# ุชุซุจูุช PM2
npm install -g pm2

# ุชุดุบูู ุงูุชุทุจูู
pm2 start server.js --name "real-estate-system"

# ูุฑุงูุจุฉ ุงูุชุทุจูู
pm2 monit

# ุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู
pm2 restart real-estate-system
```

### ุงุณุชุฎุฏุงู Docker

```bash
# ุจูุงุก ุงูุตูุฑุฉ
docker build -t real-estate-system .

# ุชุดุบูู ุงูุญุงููุฉ
docker run -d \
  --name real-estate-app \
  -p 3000:3000 \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/backups:/app/backups \
  -e JWT_SECRET=your-secret \
  real-estate-system
```

### ุงุณุชุฎุฏุงู Docker Compose

```bash
# ุชุดุบูู ุงููุธุงู
docker-compose up -d

# ูุฑุงูุจุฉ ุงูุณุฌูุงุช
docker-compose logs -f

# ุฅููุงู ุงููุธุงู
docker-compose down
```

## ๐ ุฃูุถู ุงูููุงุฑุณุงุช

### ุฃูุงู ุงูููุฏ

1. **ุชุญูู ูู ุงููุฏุฎูุงุช**:
```javascript
const validateInput = (data) => {
  const errors = [];
  
  if (!data.name || data.name.trim().length < 2) {
    errors.push('ุงูุงุณู ูุฌุจ ุฃู ูููู ุนูู ุงูุฃูู ุญุฑููู');
  }
  
  if (data.email && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(data.email)) {
    errors.push('ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุบูุฑ ุตุญูุญ');
  }
  
  return errors;
};
```

2. **ุงุณุชุฎุฏู ูุนุงููุงุช SQL**:
```javascript
// โ ุตุญูุญ
await db.run('INSERT INTO users (name, email) VALUES (?, ?)', [name, email]);

// โ ุฎุทุฃ
await db.run(`INSERT INTO users (name, email) VALUES ('${name}', '${email}')`);
```

3. **ุชุดููุฑ ูููุงุช ุงููุฑูุฑ**:
```javascript
const bcrypt = require('bcryptjs');

// ุชุดููุฑ ูููุฉ ุงููุฑูุฑ
const hashedPassword = await bcrypt.hash(password, 10);

// ุงูุชุญูู ูู ูููุฉ ุงููุฑูุฑ
const isValid = await bcrypt.compare(password, hashedPassword);
```

### ุฃุฏุงุก ุงูููุฏ

1. **ุงุณุชุฎุฏู ุงูููุงุฑุณ**:
```sql
CREATE INDEX IF NOT EXISTS idx_customers_name ON customers(name);
CREATE INDEX IF NOT EXISTS idx_customers_phone ON customers(phone);
```

2. **ุชุฌูุจ N+1 queries**:
```javascript
// โ ุตุญูุญ - ุงุณุชุนูุงู ูุงุญุฏ
const customers = await db.all(`
  SELECT c.*, COUNT(ct.id) as contracts_count
  FROM customers c
  LEFT JOIN contracts ct ON c.id = ct.customer_id
  GROUP BY c.id
`);

// โ ุฎุทุฃ - N+1 queries
const customers = await db.all('SELECT * FROM customers');
for (const customer of customers) {
  const contracts = await db.all('SELECT * FROM contracts WHERE customer_id = ?', [customer.id]);
  customer.contracts = contracts;
}
```

3. **ุงุณุชุฎุฏู ุงูุชุฎุฒูู ุงููุคูุช**:
```javascript
const cache = new Map();

const getCustomerById = async (id) => {
  if (cache.has(id)) {
    return cache.get(id);
  }
  
  const customer = await db.get('SELECT * FROM customers WHERE id = ?', [id]);
  cache.set(id, customer);
  return customer;
};
```

### ูุงุจููุฉ ุงูุตูุงูุฉ

1. **ุงุณุชุฎุฏู ุฃุณูุงุก ูุตููุฉ**:
```javascript
// โ ุตุญูุญ
const calculateTotalPrice = (price, discount) => {
  return price * (1 - discount / 100);
};

// โ ุฎุทุฃ
const calc = (p, d) => p * (1 - d / 100);
```

2. **ุงูุชุจ ุชุนูููุงุช ูุงุถุญุฉ**:
```javascript
/**
 * ุญุณุงุจ ุงูุณุนุฑ ุงูููุงุฆู ูุน ุงูุฎุตู
 * @param {number} price - ุงูุณุนุฑ ุงูุฃุณุงุณู
 * @param {number} discount - ูุณุจุฉ ุงูุฎุตู (0-100)
 * @returns {number} ุงูุณุนุฑ ุงูููุงุฆู
 */
const calculateFinalPrice = (price, discount = 0) => {
  // ุงูุชุญูู ูู ุตุญุฉ ุงููุฏุฎูุงุช
  if (price < 0) {
    throw new Error('ุงูุณุนุฑ ูุฌุจ ุฃู ูููู ููุฌุจุงู');
  }
  
  // ุญุณุงุจ ุงูุณุนุฑ ุจุนุฏ ุงูุฎุตู
  return price * (1 - discount / 100);
};
```

3. **ุงุณุชุฎุฏู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**:
```javascript
const createCustomer = async (customerData) => {
  try {
    // ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
    const errors = validateCustomerData(customerData);
    if (errors.length > 0) {
      throw new Error(errors.join(', '));
    }
    
    // ุฅุฏุฎุงู ุงูุจูุงูุงุช
    const result = await db.run(
      'INSERT INTO customers (name, phone, email) VALUES (?, ?, ?)',
      [customerData.name, customerData.phone, customerData.email]
    );
    
    return {
      success: true,
      data: { id: result.lastID, ...customerData }
    };
  } catch (error) {
    console.error('ุฎุทุฃ ูู ุฅูุดุงุก ุงูุนููู:', error);
    return {
      success: false,
      error: error.message
    };
  }
};
```

### ุงูุชูุซูู

1. **ุงูุชุจ README ูุงุถุญ**:
```markdown
# ุงุณู ุงููุดุฑูุน

ูุตู ูุฎุชุตุฑ ูููุดุฑูุน.

## ุงูุชุซุจูุช

```bash
npm install
npm run init-db
npm start
```

## ุงูุงุณุชุฎุฏุงู

ูุตู ููููุฉ ุงุณุชุฎุฏุงู ุงููุดุฑูุน.

## ุงููุณุงููุฉ

ููููุฉ ุงููุณุงููุฉ ูู ุงููุดุฑูุน.
```

2. **ูุซู API**:
```javascript
/**
 * @api {post} /api/customers ุฅูุดุงุก ุนููู ุฌุฏูุฏ
 * @apiName CreateCustomer
 * @apiGroup Customers
 * @apiVersion 1.0.0
 *
 * @apiParam {String} name ุงุณู ุงูุนููู
 * @apiParam {String} phone ุฑูู ุงููุงุชู
 * @apiParam {String} [email] ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
 *
 * @apiSuccess {Boolean} success ูุฌุงุญ ุงูุนูููุฉ
 * @apiSuccess {Object} data ุจูุงูุงุช ุงูุนููู ุงููููุดุฃ
 */
```

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2025-01-27  
**ุงูุฅุตุฏุงุฑ**: 1.0.0