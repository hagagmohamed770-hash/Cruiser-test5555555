# Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø·ÙˆØ± - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ

## ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

- [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…](#Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©-Ø¹Ù„Ù‰-Ø§Ù„Ù†Ø¸Ø§Ù…)
- [Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ·ÙˆÙŠØ±](#Ø¥Ø¹Ø¯Ø§Ø¯-Ø¨ÙŠØ¦Ø©-Ø§Ù„ØªØ·ÙˆÙŠØ±)
- [Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹](#Ø¨Ù†ÙŠØ©-Ø§Ù„Ù…Ø´Ø±ÙˆØ¹)
- [Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª](#Ù‚Ø§Ø¹Ø¯Ø©-Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
- [API Reference](#api-reference)
- [Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ²Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©](#Ø¥Ø¶Ø§ÙØ©-Ù…ÙŠØ²Ø§Øª-Ø¬Ø¯ÙŠØ¯Ø©)
- [Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª](#Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª)
- [Ø§Ù„Ù†Ø´Ø± ÙˆØ§Ù„Ø¥Ù†ØªØ§Ø¬](#Ø§Ù„Ù†Ø´Ø±-ÙˆØ§Ù„Ø¥Ù†ØªØ§Ø¬)
- [Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª](#Ø£ÙØ¶Ù„-Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª)

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…

### Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©

- **Backend**: Node.js, Express.js
- **Database**: SQLite3
- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Authentication**: JWT, bcryptjs
- **Security**: Helmet, CORS, Rate Limiting
- **Documentation**: JSDoc, Markdown

### Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Frontend (HTML/CSS/JS)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Express.js Server         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           SQLite Database           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡**: CRUD operations Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡
- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆØ­Ø¯Ø§Øª**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØ©
- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù‚ÙˆØ¯**: Ø¹Ù‚ÙˆØ¯ Ø§Ù„Ø¨ÙŠØ¹ ÙˆØ§Ù„Ø¥ÙŠØ¬Ø§Ø±
- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ø·**: Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù‚Ø³Ø§Ø· ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø±ÙƒØ§Ø¡**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø±ÙƒØ§Ø¡ ÙˆØ£Ø±Ø¨Ø§Ø­Ù‡Ù…
- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆØ³Ø·Ø§Ø¡**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆØ³Ø·Ø§Ø¡ ÙˆØ¹Ù…ÙˆÙ„Ø§ØªÙ‡Ù…
- **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø²ÙŠÙ†Ø©**: Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø²Ø§Ø¦Ù† ÙˆØ§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª
- **Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±**: ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø§Ù„ÙŠØ© ÙˆØ¥Ø¯Ø§Ø±ÙŠØ©
- **Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©**: Ù†Ø¸Ø§Ù… Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù…ØªÙ‚Ø¯Ù…
- **Ø³Ø¬Ù„ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª**: ØªØªØ¨Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª

## ğŸ”§ Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ·ÙˆÙŠØ±

### Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

```bash
# Node.js 16.0.0 Ø£Ùˆ Ø£Ø­Ø¯Ø«
node --version

# npm 8.0.0 Ø£Ùˆ Ø£Ø­Ø¯Ø«
npm --version

# Git
git --version
```

### ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```bash
# Ø§Ø³ØªÙ†Ø³Ø§Ø® Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
git clone https://github.com/your-repo/real-estate-management-system.git
cd real-estate-management-system

# ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª
npm install

# Ø¥Ø¹Ø¯Ø§Ø¯ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
npm run init-db

# ØªØ´ØºÙŠÙ„ ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ±
npm run dev
```

### Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©

Ø£Ù†Ø´Ø¦ Ù…Ù„Ù `.env` ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø¬Ø°Ø±:

```env
# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø§Ø¯Ù…
NODE_ENV=development
PORT=3000

# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
DB_PATH=./data/real_estate.db

# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù†
JWT_SECRET=your-super-secret-jwt-key-here

# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
BACKUP_DIR=./backups
BACKUP_AUTO=true
BACKUP_INTERVAL=24h

# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ©
COMPANY_NAME=Ø´Ø±ÙƒØ© Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ
COMPANY_EMAIL=info@company.com
COMPANY_PHONE=0123456789
```

### Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ·ÙˆÙŠØ±

```bash
# ØªØ«Ø¨ÙŠØª Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØ·ÙˆÙŠØ±
npm install --save-dev nodemon eslint prettier

# ØªØ´ØºÙŠÙ„ Ù…Ø¹ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
npm run dev

# ÙØ­Øµ Ø§Ù„ÙƒÙˆØ¯
npm run lint

# ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙƒÙˆØ¯
npm run format
```

## ğŸ“ Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```
real-estate-management-system/
â”œâ”€â”€ server.js                 # Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ù„Ù„Ø®Ø§Ø¯Ù…
â”œâ”€â”€ package.json              # ØªØ¨Ø¹ÙŠØ§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
â”œâ”€â”€ .env.example              # Ù…Ø«Ø§Ù„ Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©
â”œâ”€â”€ .gitignore               # Ù…Ù„ÙØ§Øª Git Ø§Ù„Ù…Ù‡Ù…Ù„Ø©
â”œâ”€â”€ start.sh                 # Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹
â”œâ”€â”€ Dockerfile               # ØªÙƒÙˆÙŠÙ† Docker
â”œâ”€â”€ docker-compose.yml       # ØªÙƒÙˆÙŠÙ† Docker Compose
â”œâ”€â”€ database/
â”‚   â””â”€â”€ database.js          # Ø¥Ø¯Ø§Ø±Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ auth.js              # Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
â”‚   â”œâ”€â”€ customers.js         # Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
â”‚   â”œâ”€â”€ units.js             # Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„ÙˆØ­Ø¯Ø§Øª
â”‚   â”œâ”€â”€ contracts.js         # Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù‚ÙˆØ¯
â”‚   â”œâ”€â”€ installments.js      # Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø£Ù‚Ø³Ø§Ø·
â”‚   â”œâ”€â”€ partners.js          # Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ§Ø¡
â”‚   â”œâ”€â”€ brokers.js           # Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„ÙˆØ³Ø·Ø§Ø¡
â”‚   â”œâ”€â”€ vouchers.js          # Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø§Ù„ÙŠØ©
â”‚   â”œâ”€â”€ treasury.js          # Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø®Ø²ÙŠÙ†Ø©
â”‚   â”œâ”€â”€ reports.js           # Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
â”‚   â”œâ”€â”€ backup.js            # Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
â”‚   â””â”€â”€ audit.js             # Ù…Ø³Ø§Ø±Ø§Øª Ø³Ø¬Ù„ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ audit.js             # ÙˆØ¸Ø§Ø¦Ù Ø³Ø¬Ù„ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html           # Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
â”‚   â”œâ”€â”€ style.css            # Ù…Ù„ÙØ§Øª CSS
â”‚   â””â”€â”€ app.js               # Ù…Ù„ÙØ§Øª JavaScript
â”œâ”€â”€ data/                    # Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
â”œâ”€â”€ backups/                 # Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
â””â”€â”€ docs/                    # Ø§Ù„ØªÙˆØ«ÙŠÙ‚
```

## ğŸ—„ï¸ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### Ù…Ø®Ø·Ø· Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```sql
-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
CREATE TABLE customers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  phone TEXT UNIQUE NOT NULL,
  email TEXT,
  address TEXT,
  status TEXT DEFAULT 'active',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙˆØ­Ø¯Ø§Øª
CREATE TABLE units (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  type TEXT NOT NULL CHECK (type IN ('apartment', 'villa', 'office', 'shop')),
  area REAL NOT NULL,
  price REAL NOT NULL,
  location TEXT,
  status TEXT DEFAULT 'available',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ù‚ÙˆØ¯
CREATE TABLE contracts (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  customer_id INTEGER NOT NULL,
  unit_id INTEGER NOT NULL,
  type TEXT NOT NULL CHECK (type IN ('sale', 'rent')),
  total_amount REAL NOT NULL,
  down_payment REAL DEFAULT 0,
  installment_amount REAL,
  installment_count INTEGER DEFAULT 0,
  start_date DATE NOT NULL,
  end_date DATE,
  status TEXT DEFAULT 'active',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (customer_id) REFERENCES customers (id),
  FOREIGN KEY (unit_id) REFERENCES units (id)
);

-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ø·
CREATE TABLE installments (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  contract_id INTEGER NOT NULL,
  amount REAL NOT NULL,
  due_date DATE NOT NULL,
  payment_date DATE,
  payment_method TEXT,
  status TEXT DEFAULT 'pending',
  notes TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (contract_id) REFERENCES contracts (id)
);

-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø´Ø±ÙƒØ§Ø¡
CREATE TABLE partners (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  phone TEXT,
  email TEXT,
  share_percentage REAL NOT NULL,
  capital REAL DEFAULT 0,
  status TEXT DEFAULT 'active',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙˆØ³Ø·Ø§Ø¡
CREATE TABLE brokers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  phone TEXT,
  email TEXT,
  commission_rate REAL DEFAULT 0,
  license_number TEXT,
  status TEXT DEFAULT 'active',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø§Ù„ÙŠØ©
CREATE TABLE vouchers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  type TEXT NOT NULL CHECK (type IN ('income', 'expense')),
  amount REAL NOT NULL,
  description TEXT NOT NULL,
  safe_id INTEGER NOT NULL,
  date DATE NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (safe_id) REFERENCES safes (id)
);

-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø®Ø²Ø§Ø¦Ù†
CREATE TABLE safes (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  balance REAL DEFAULT 0,
  description TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª
CREATE TABLE transfers (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  from_safe_id INTEGER NOT NULL,
  to_safe_id INTEGER NOT NULL,
  amount REAL NOT NULL,
  description TEXT,
  date DATE NOT NULL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (from_safe_id) REFERENCES safes (id),
  FOREIGN KEY (to_safe_id) REFERENCES safes (id)
);

-- Ø¬Ø¯ÙˆÙ„ Ø³Ø¬Ù„ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
CREATE TABLE audit_log (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  action TEXT NOT NULL,
  table_name TEXT NOT NULL,
  record_id INTEGER,
  data TEXT,
  user_id INTEGER,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users (id)
);

-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
CREATE TABLE users (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  username TEXT UNIQUE NOT NULL,
  password TEXT NOT NULL,
  role TEXT DEFAULT 'user',
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
CREATE TABLE settings (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  key TEXT UNIQUE NOT NULL,
  value TEXT,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### Ø§Ù„ÙÙ‡Ø§Ø±Ø³

```sql
-- ÙÙ‡Ø§Ø±Ø³ Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ù„Ø£Ø¯Ø§Ø¡
CREATE INDEX IF NOT EXISTS idx_customers_name ON customers(name);
CREATE INDEX IF NOT EXISTS idx_customers_phone ON customers(phone);
CREATE INDEX IF NOT EXISTS idx_customers_email ON customers(email);
CREATE INDEX IF NOT EXISTS idx_customers_status ON customers(status);
CREATE INDEX IF NOT EXISTS idx_customers_created_at ON customers(created_at);

CREATE INDEX IF NOT EXISTS idx_units_type ON units(type);
CREATE INDEX IF NOT EXISTS idx_units_status ON units(status);
CREATE INDEX IF NOT EXISTS idx_units_price ON units(price);

CREATE INDEX IF NOT EXISTS idx_contracts_customer_id ON contracts(customer_id);
CREATE INDEX IF NOT EXISTS idx_contracts_unit_id ON contracts(unit_id);
CREATE INDEX IF NOT EXISTS idx_contracts_type ON contracts(type);
CREATE INDEX IF NOT EXISTS idx_contracts_status ON contracts(status);
CREATE INDEX IF NOT EXISTS idx_contracts_start_date ON contracts(start_date);

CREATE INDEX IF NOT EXISTS idx_installments_contract_id ON installments(contract_id);
CREATE INDEX IF NOT EXISTS idx_installments_status ON installments(status);
CREATE INDEX IF NOT EXISTS idx_installments_due_date ON installments(due_date);

CREATE INDEX IF NOT EXISTS idx_vouchers_type ON vouchers(type);
CREATE INDEX IF NOT EXISTS idx_vouchers_date ON vouchers(date);
CREATE INDEX IF NOT EXISTS idx_vouchers_safe_id ON vouchers(safe_id);

-- ÙÙ‡Ø§Ø±Ø³ Ù…Ø±ÙƒØ¨Ø©
CREATE INDEX IF NOT EXISTS idx_contracts_customer_type ON contracts(customer_id, type);
CREATE INDEX IF NOT EXISTS idx_contracts_unit_status ON contracts(unit_id, status);
```

## ğŸ”Œ API Reference

### Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©

#### ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "admin123"
}
```

**Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©:**
```json
{
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 1,
    "username": "admin",
    "role": "admin"
  }
}
```

#### Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆÙƒÙ†
```http
GET /api/auth/verify
Authorization: Bearer <token>
```

### Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡

#### Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
```http
GET /api/customers?page=1&limit=20&search=Ø£Ø­Ù…Ø¯
Authorization: Bearer <token>
```

#### Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯
```http
POST /api/customers
Authorization: Bearer <token>
Content-Type: application/json

{
  "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
  "phone": "0123456789",
  "email": "ahmed@example.com",
  "address": "Ø´Ø§Ø±Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ"
}
```

#### ØªØ­Ø¯ÙŠØ« Ø¹Ù…ÙŠÙ„
```http
PUT /api/customers/:id
Authorization: Bearer <token>
Content-Type: application/json

{
  "name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ",
  "phone": "0987654321"
}
```

#### Ø­Ø°Ù Ø¹Ù…ÙŠÙ„
```http
DELETE /api/customers/:id
Authorization: Bearer <token>
```

### Ø§Ù„ÙˆØ­Ø¯Ø§Øª

#### Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ­Ø¯Ø§Øª
```http
GET /api/units?type=apartment&status=available
Authorization: Bearer <token>
```

#### Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ­Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©
```http
POST /api/units
Authorization: Bearer <token>
Content-Type: application/json

{
  "name": "Ø´Ù‚Ø© 101",
  "type": "apartment",
  "area": 120,
  "price": 500000,
  "location": "Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£ÙˆÙ„"
}
```

### Ø§Ù„Ø¹Ù‚ÙˆØ¯

#### Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù‚ÙˆØ¯
```http
GET /api/contracts?type=sale&status=active
Authorization: Bearer <token>
```

#### Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯
```http
POST /api/contracts
Authorization: Bearer <token>
Content-Type: application/json

{
  "customer_id": 1,
  "unit_id": 1,
  "type": "sale",
  "total_amount": 500000,
  "down_payment": 100000,
  "installment_amount": 20000,
  "installment_count": 20,
  "start_date": "2025-01-01"
}
```

### Ø§Ù„Ø£Ù‚Ø³Ø§Ø·

#### Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ø·
```http
GET /api/installments?contract_id=1&status=pending
Authorization: Bearer <token>
```

#### Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù‚Ø³Ø§Ø· Ù„Ù„Ø¹Ù‚Ø¯
```http
POST /api/installments/generate
Authorization: Bearer <token>
Content-Type: application/json

{
  "contract_id": 1
}
```

#### Ø¯ÙØ¹ Ù‚Ø³Ø·
```http
PUT /api/installments/:id/pay
Authorization: Bearer <token>
Content-Type: application/json

{
  "payment_date": "2025-01-15",
  "payment_method": "cash"
}
```

### Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±

#### ØªÙ‚Ø±ÙŠØ± Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
```http
GET /api/reports/dashboard
Authorization: Bearer <token>
```

#### ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
```http
GET /api/reports/sales?year=2025&month=1
Authorization: Bearer <token>
```

#### ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ù‚Ø³Ø§Ø· Ø§Ù„Ù…ØªØ£Ø®Ø±Ø©
```http
GET /api/reports/overdue-installments
Authorization: Bearer <token>
```

### Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©

#### Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
```http
POST /api/backup
Authorization: Bearer <token>
Content-Type: application/json

{
  "description": "Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© ÙŠÙˆÙ…ÙŠØ©"
}
```

#### Ø¬Ù„Ø¨ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
```http
GET /api/backup
Authorization: Bearer <token>
```

#### Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
```http
POST /api/backup/:id/restore
Authorization: Bearer <token>
```

## ğŸš€ Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ²Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©

### Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ø§Ø± Ø¬Ø¯ÙŠØ¯

1. Ø£Ù†Ø´Ø¦ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ù…Ø¬Ù„Ø¯ `routes/`
2. Ø§ØªØ¨Ø¹ Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯:

```javascript
const express = require('express');
const router = express.Router();
const db = require('../database/database');
const { authenticateToken } = require('../middleware/auth');
const { logAudit } = require('../utils/audit');

// Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ±
router.get('/', authenticateToken, async (req, res) => {
  try {
    const { page = 1, limit = 20, search = '' } = req.query;
    const offset = (page - 1) * limit;
    
    let query = 'SELECT * FROM your_table';
    let params = [];
    
    if (search) {
      query += ' WHERE name LIKE ?';
      params.push(`%${search}%`);
    }
    
    query += ' ORDER BY created_at DESC LIMIT ? OFFSET ?';
    params.push(parseInt(limit), offset);
    
    const items = await db.all(query, params);
    const countResult = await db.get('SELECT COUNT(*) as total FROM your_table');
    
    res.json({
      success: true,
      data: {
        items,
        pagination: {
          page: parseInt(page),
          limit: parseInt(limit),
          total: countResult.total,
          pages: Math.ceil(countResult.total / limit)
        }
      }
    });
  } catch (error) {
    console.error('Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
    res.status(500).json({
      success: false,
      message: 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…'
    });
  }
});

// Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø¬Ø¯ÙŠØ¯
router.post('/', authenticateToken, async (req, res) => {
  try {
    const { name, description } = req.body;
    
    if (!name) {
      return res.status(400).json({
        success: false,
        message: 'Ø§Ù„Ø§Ø³Ù… Ù…Ø·Ù„ÙˆØ¨'
      });
    }
    
    const result = await db.run(
      'INSERT INTO your_table (name, description) VALUES (?, ?)',
      [name, description]
    );
    
    const newItem = await db.get('SELECT * FROM your_table WHERE id = ?', [result.lastID]);
    
    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
    await logAudit('create', 'your_table', result.lastID, req.body);
    
    res.status(201).json({
      success: true,
      data: newItem,
      message: 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù†ØµØ± Ø¨Ù†Ø¬Ø§Ø­'
    });
  } catch (error) {
    console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù†ØµØ±:', error);
    res.status(500).json({
      success: false,
      message: 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…'
    });
  }
});

module.exports = router;
```

3. Ø£Ø¶Ù Ø§Ù„Ù…Ø³Ø§Ø± ÙÙŠ `server.js`:

```javascript
const yourRoutes = require('./routes/your-routes');
app.use('/api/your-endpoint', yourRoutes);
```

### Ø¥Ø¶Ø§ÙØ© Ø¬Ø¯ÙˆÙ„ Ø¬Ø¯ÙŠØ¯

1. Ø£Ø¶Ù Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙÙŠ `database/database.js`:

```javascript
// Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ Ø¬Ø¯ÙŠØ¯
await db.run(`
  CREATE TABLE IF NOT EXISTS your_table (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    description TEXT,
    status TEXT DEFAULT 'active',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
  )
`);

// Ø¥Ù†Ø´Ø§Ø¡ ÙÙ‡Ø§Ø±Ø³
await db.run('CREATE INDEX IF NOT EXISTS idx_your_table_name ON your_table(name)');
await db.run('CREATE INDEX IF NOT EXISTS idx_your_table_status ON your_table(status)');
```

### Ø¥Ø¶Ø§ÙØ© ÙˆØ§Ø¬Ù‡Ø© Ù…Ø³ØªØ®Ø¯Ù…

1. Ø£Ø¶Ù Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ `public/index.html`:

```html
<a href="#your-page" class="nav-link" data-page="your-page">
  <span class="icon">ğŸ“„</span>
  <span class="text">ØµÙØ­ØªÙƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</span>
</a>
```

2. Ø£Ø¶Ù Ø§Ù„Ù…Ø­ØªÙˆÙ‰:

```html
<div id="your-page" class="page">
  <div class="page-header">
    <h1>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø©</h1>
    <button class="btn btn-primary add-btn">Ø¥Ø¶Ø§ÙØ© Ø¬Ø¯ÙŠØ¯</button>
  </div>
  
  <div class="page-content">
    <div class="filters">
      <input type="text" class="search-input" placeholder="Ø¨Ø­Ø«...">
      <select class="status-filter">
        <option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>
        <option value="active">Ù†Ø´Ø·</option>
        <option value="inactive">ØºÙŠØ± Ù†Ø´Ø·</option>
      </select>
    </div>
    
    <div class="table-container">
      <table class="table">
        <thead>
          <tr>
            <th>Ø§Ù„Ø§Ø³Ù…</th>
            <th>Ø§Ù„ÙˆØµÙ</th>
            <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
            <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
            <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
          </tr>
        </thead>
        <tbody id="your-table-body">
          <!-- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø³ØªÙØ­Ù…Ù„ Ù‡Ù†Ø§ -->
        </tbody>
      </table>
    </div>
  </div>
</div>
```

3. Ø£Ø¶Ù Ø§Ù„ÙˆØ¸Ø§Ø¦Ù ÙÙŠ `public/app.js`:

```javascript
// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
const loadYourData = async () => {
  try {
    showLoading();
    
    const response = await fetch('/api/your-endpoint', {
      headers: {
        'Authorization': `Bearer ${token}`
      }
    });
    
    const data = await response.json();
    
    if (data.success) {
      renderYourTable(data.data.items);
    } else {
      showError(data.message);
    }
  } catch (error) {
    showError('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
  } finally {
    hideLoading();
  }
};

// Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„
const renderYourTable = (items) => {
  const tbody = document.getElementById('your-table-body');
  tbody.innerHTML = '';
  
  items.forEach(item => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${item.name}</td>
      <td>${item.description || '-'}</td>
      <td><span class="status-badge ${item.status}">${getStatusName(item.status)}</span></td>
      <td>${formatDate(item.created_at)}</td>
      <td>
        <button class="btn btn-sm btn-primary edit-btn" data-id="${item.id}">ØªØ¹Ø¯ÙŠÙ„</button>
        <button class="btn btn-sm btn-danger delete-btn" data-id="${item.id}">Ø­Ø°Ù</button>
      </td>
    `;
    tbody.appendChild(row);
  });
};
```

## ğŸ§ª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª

### Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª

```bash
# ØªØ«Ø¨ÙŠØª Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
npm install --save-dev jest supertest

# ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
npm test

# ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…Ø¹ Ø§Ù„ØªØºØ·ÙŠØ©
npm run test:coverage
```

### ÙƒØªØ§Ø¨Ø© Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª

```javascript
// tests/your-feature.test.js
const request = require('supertest');
const app = require('../server');

describe('Your Feature', () => {
  let authToken;

  beforeAll(async () => {
    // ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙˆÙƒÙ†
    const loginResponse = await request(app)
      .post('/api/auth/login')
      .send({
        username: 'admin',
        password: 'admin123'
      });

    authToken = loginResponse.body.token;
  });

  describe('GET /api/your-endpoint', () => {
    it('should return list of items', async () => {
      const response = await request(app)
        .get('/api/your-endpoint')
        .set('Authorization', `Bearer ${authToken}`);

      expect(response.status).toBe(200);
      expect(response.body.success).toBe(true);
      expect(response.body.data).toBeInstanceOf(Array);
    });
  });

  describe('POST /api/your-endpoint', () => {
    it('should create new item', async () => {
      const itemData = {
        name: 'Ø¹Ù†ØµØ± ØªØ¬Ø±ÙŠØ¨ÙŠ',
        description: 'ÙˆØµÙ ØªØ¬Ø±ÙŠØ¨ÙŠ'
      };

      const response = await request(app)
        .post('/api/your-endpoint')
        .set('Authorization', `Bearer ${authToken}`)
        .send(itemData);

      expect(response.status).toBe(201);
      expect(response.body.success).toBe(true);
      expect(response.body.data.name).toBe(itemData.name);
    });
  });
});
```

## ğŸš€ Ø§Ù„Ù†Ø´Ø± ÙˆØ§Ù„Ø¥Ù†ØªØ§Ø¬

### Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¥Ù†ØªØ§Ø¬

1. Ø£Ù†Ø´Ø¦ Ù…Ù„Ù `.env` Ù„Ù„Ø¥Ù†ØªØ§Ø¬:

```env
NODE_ENV=production
PORT=3000
JWT_SECRET=your-super-secret-production-key
DB_PATH=/app/data/real_estate.db
BACKUP_DIR=/app/backups
```

2. Ø§Ø³ØªØ®Ø¯Ù… PM2 Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©:

```bash
# ØªØ«Ø¨ÙŠØª PM2
npm install -g pm2

# ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
pm2 start server.js --name "real-estate-system"

# Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
pm2 monit

# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
pm2 restart real-estate-system
```

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Docker

```bash
# Ø¨Ù†Ø§Ø¡ Ø§Ù„ØµÙˆØ±Ø©
docker build -t real-estate-system .

# ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ø§ÙˆÙŠØ©
docker run -d \
  --name real-estate-app \
  -p 3000:3000 \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/backups:/app/backups \
  -e JWT_SECRET=your-secret \
  real-estate-system
```

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Docker Compose

```bash
# ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…
docker-compose up -d

# Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø³Ø¬Ù„Ø§Øª
docker-compose logs -f

# Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù†Ø¸Ø§Ù…
docker-compose down
```

## ğŸ“ˆ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª

### Ø£Ù…Ø§Ù† Ø§Ù„ÙƒÙˆØ¯

1. **ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª**:
```javascript
const validateInput = (data) => {
  const errors = [];
  
  if (!data.name || data.name.trim().length < 2) {
    errors.push('Ø§Ù„Ø§Ø³Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ø­Ø±ÙÙŠÙ†');
  }
  
  if (data.email && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(data.email)) {
    errors.push('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­');
  }
  
  return errors;
};
```

2. **Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¹Ø§Ù…Ù„Ø§Øª SQL**:
```javascript
// âœ… ØµØ­ÙŠØ­
await db.run('INSERT INTO users (name, email) VALUES (?, ?)', [name, email]);

// âŒ Ø®Ø·Ø£
await db.run(`INSERT INTO users (name, email) VALUES ('${name}', '${email}')`);
```

3. **ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±**:
```javascript
const bcrypt = require('bcryptjs');

// ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
const hashedPassword = await bcrypt.hash(password, 10);

// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
const isValid = await bcrypt.compare(password, hashedPassword);
```

### Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙƒÙˆØ¯

1. **Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙÙ‡Ø§Ø±Ø³**:
```sql
CREATE INDEX IF NOT EXISTS idx_customers_name ON customers(name);
CREATE INDEX IF NOT EXISTS idx_customers_phone ON customers(phone);
```

2. **ØªØ¬Ù†Ø¨ N+1 queries**:
```javascript
// âœ… ØµØ­ÙŠØ­ - Ø§Ø³ØªØ¹Ù„Ø§Ù… ÙˆØ§Ø­Ø¯
const customers = await db.all(`
  SELECT c.*, COUNT(ct.id) as contracts_count
  FROM customers c
  LEFT JOIN contracts ct ON c.id = ct.customer_id
  GROUP BY c.id
`);

// âŒ Ø®Ø·Ø£ - N+1 queries
const customers = await db.all('SELECT * FROM customers');
for (const customer of customers) {
  const contracts = await db.all('SELECT * FROM contracts WHERE customer_id = ?', [customer.id]);
  customer.contracts = contracts;
}
```

3. **Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª**:
```javascript
const cache = new Map();

const getCustomerById = async (id) => {
  if (cache.has(id)) {
    return cache.get(id);
  }
  
  const customer = await db.get('SELECT * FROM customers WHERE id = ?', [id]);
  cache.set(id, customer);
  return customer;
};
```

### Ù‚Ø§Ø¨Ù„ÙŠØ© Ø§Ù„ØµÙŠØ§Ù†Ø©

1. **Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø³Ù…Ø§Ø¡ ÙˆØµÙÙŠØ©**:
```javascript
// âœ… ØµØ­ÙŠØ­
const calculateTotalPrice = (price, discount) => {
  return price * (1 - discount / 100);
};

// âŒ Ø®Ø·Ø£
const calc = (p, d) => p * (1 - d / 100);
```

2. **Ø§ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ‚Ø§Øª ÙˆØ§Ø¶Ø­Ø©**:
```javascript
/**
 * Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ù…Ø¹ Ø§Ù„Ø®ØµÙ…
 * @param {number} price - Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
 * @param {number} discount - Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ… (0-100)
 * @returns {number} Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ
 */
const calculateFinalPrice = (price, discount = 0) => {
  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª
  if (price < 0) {
    throw new Error('Ø§Ù„Ø³Ø¹Ø± ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…ÙˆØ¬Ø¨Ø§Ù‹');
  }
  
  // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ…
  return price * (1 - discount / 100);
};
```

3. **Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡**:
```javascript
const createCustomer = async (customerData) => {
  try {
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    const errors = validateCustomerData(customerData);
    if (errors.length > 0) {
      throw new Error(errors.join(', '));
    }
    
    // Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    const result = await db.run(
      'INSERT INTO customers (name, phone, email) VALUES (?, ?, ?)',
      [customerData.name, customerData.phone, customerData.email]
    );
    
    return {
      success: true,
      data: { id: result.lastID, ...customerData }
    };
  } catch (error) {
    console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù…ÙŠÙ„:', error);
    return {
      success: false,
      error: error.message
    };
  }
};
```

### Ø§Ù„ØªÙˆØ«ÙŠÙ‚

1. **Ø§ÙƒØªØ¨ README ÙˆØ§Ø¶Ø­**:
```markdown
# Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

ÙˆØµÙ Ù…Ø®ØªØµØ± Ù„Ù„Ù…Ø´Ø±ÙˆØ¹.

## Ø§Ù„ØªØ«Ø¨ÙŠØª

```bash
npm install
npm run init-db
npm start
```

## Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

ÙˆØµÙ ÙƒÙŠÙÙŠØ© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹.

## Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©

ÙƒÙŠÙÙŠØ© Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø© ÙÙŠ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹.
```

2. **ÙˆØ«Ù‚ API**:
```javascript
/**
 * @api {post} /api/customers Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯
 * @apiName CreateCustomer
 * @apiGroup Customers
 * @apiVersion 1.0.0
 *
 * @apiParam {String} name Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„
 * @apiParam {String} phone Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
 * @apiParam {String} [email] Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
 *
 * @apiSuccess {Boolean} success Ù†Ø¬Ø§Ø­ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
 * @apiSuccess {Object} data Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…ÙÙ†Ø´Ø£
 */
```

---

**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«**: 2025-01-27  
**Ø§Ù„Ø¥ØµØ¯Ø§Ø±**: 1.0.0